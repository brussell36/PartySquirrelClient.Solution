@{
  Layout = "_Layout";
}

<link rel="stylesheet" href="~/css/partydetails.css">

@using PartySquirrel.ViewModels
@model PartyDetailsViewModel;

<h1>@Model.User.FirstName's Party</h1>

@if (Model.SquirrelCount == 0)
{
  <p>@Model.User.FirstName hasn't added any party squirrels to their party!</p>
}

<div class="row">
  <div class = "column">
    @foreach(SquirrelUser join in Model.Column1)
    {
      <a href="@Url.Action("Details", "Squirrels", new { id = join.Squirrel.SquirrelId })">
        <img src="@join.Squirrel.Image">
      </a>
    }
  </div>
  <div class = "column">
    @foreach(SquirrelUser join in Model.Column2)
    {
      <a href="@Url.Action("Details", "Squirrels", new { id = join.Squirrel.SquirrelId })">
        <img src="@join.Squirrel.Image">
      </a>
    }  
  </div>
  <div class = "column">
    @foreach(SquirrelUser join in Model.Column3)
    {
      <a href="@Url.Action("Details", "Squirrels", new { id = join.Squirrel.SquirrelId })">
        <img src="@join.Squirrel.Image">
      </a>
    }
  </div>
</div>
<div>
  @Html.ActionLink($"Add Message", "Create", "PartyMessages", new { id = Model.User.Id, fromId = Model.CurrentUser.Id })
</div>
<div class="mt-3">
  @foreach(PartyMessage message in Model.PartyMessages)
  {
    @Html.Partial("PartyMessage", message)
  }
</div>